<div class="w-[350px] h-[480px] bg-white" [class.minimized]="minimized()">
  <div class="flex items-center justify-between h-[50px] bg-red-700 p-2">
    <div class="flex items-center gap-2">
      @if(minimized()) {
      <span class="pi pi-chevron-up text-white cursor-pointer" (click)="minimize()"></span>
      } @else {
      <span class="pi pi-chevron-down text-white cursor-pointer" (click)="minimize()"></span>
      }
      <div class="flex items-center gap-2">
        <p-avatar image="./avatar.png" class="mr-2" size="large" shape="circle" />
        <p-overlaybadge severity="success"> </p-overlaybadge>
        <div class="text-white">{{ bootName }}</div>
      </div>
    </div>
    @if(!minimized()) {
    <span class="pi pi-bars text-white cursor-pointer" (click)="showOptions()"></span>
    }
  </div>

  <div class="flex flex-col gap-2 h-[270px] overflow-auto p-2">
    @for(message of messages; track message.text) {
    <div
      class="bg-red-100 rounded-bl-3xl rounded-tr-3xl p-5 max-w-[250px]"
      [class.user-message]="message.from === 'user'"
    >
      {{ message.text }}
    </div>
    }
  </div>

  <div class="chat-suggestions">
    <span>Estas son algunas de las cosas que me puedes preguntar:</span>
    <div class="chat-suggestions__items">
      @if(showAngelLeft()) {
      <div class="chat-suggestions__scroll-icon">
        <span class="pi pi-angle-left chat-suggestions__icon" (click)="moveToLeft()"></span>
      </div>
      }

      <div class="chat-suggestions__horizontal-snap" #suggestionContainer>
        @for (suggestion of suggestions; track suggestion.id) {
        <div class="chat-suggestions__element">
          <p-chip [label]="suggestion.text" />
        </div>
        }
      </div>
      @if(showAngelRight()) {
      <div class="chat-suggestions__scroll-icon">
        <span class="pi pi-angle-right chat-suggestions__icon" (click)="moveToRight()"></span>
      </div>
      }
    </div>
  </div>

  <div class="chat-sender">
    <div class="chat-sender__message">
      <input type="text" pInputText [(ngModel)]="value" />
    </div>
    <div class="chat-sender__message-icon">
      <span class="pi pi-send" style="color: white; cursor: pointer"></span>
    </div>
  </div>
</div>

@if(showOptionsMenu()) {
<div class="options-menu" [class.is-open]="showOptionsMenu()">
  <ul>
    @for(option of optionsMenuItems; track option.icon) {
    <li class="options-menu__item" (click)="closeOptions()">
      <div style="display: flex; gap: 10px">
        <span class="{{ option.icon }}"></span>{{ option.label }}
      </div>
    </li>
    }
  </ul>
</div>

}

<div class="chat-container" [class.minimized]="minimized()">
  <div class="chat-header">
    <div class="chat-header__boot-info">
      @if(minimized()) {
      <span class="pi pi-chevron-up chat-header__icon" (click)="minimize()"></span>
      } @else {
      <span class="pi pi-chevron-down chat-header__icon" (click)="minimize()"></span>
      }
      <div class="chat-header__header--info">
        <p-overlaybadge severity="success">
          <img src="./avatar.png" alt="" height="35" class="chat-header__avatar" />
        </p-overlaybadge>
        <div class="chat-header__header--info-name">{{ bootName }}</div>
      </div>
    </div>
    @if(!minimized()) {
    <span class="pi pi-bars chat-header__icon" (click)="showOptions()"></span>
    }
  </div>

  <div class="chat-content">
    @for(message of messages; track message.text) {
    <div class="chat-content__message" [class.chat-content__user-message]="message.from === 'user'">
      {{ message.text }}
    </div>
    }
  </div>

  <div class="chat-suggestions">
    <span>Estas son algunas de las cosas que me puedes preguntar:</span>
    <div class="chat-suggestions__items">
      @if(showAngelLeft()) {
      <div class="chat-suggestions__scroll-icon">
        <span class="pi pi-angle-left chat-suggestions__icon" (click)="moveToLeft()"></span>
      </div>
      }

      <div class="chat-suggestions__horizontal-snap" #suggestionContainer>
        @for (suggestion of suggestions; track suggestion.id) {
        <div class="chat-suggestions__element">
          <p-chip [label]="suggestion.text" />
        </div>
        }
      </div>
      @if(showAngelRight()) {
      <div class="chat-suggestions__scroll-icon">
        <span class="pi pi-angle-right chat-suggestions__icon" (click)="moveToRight()"></span>
      </div>
      }
    </div>
  </div>

  <div class="chat-sender">
    <div class="chat-sender__message">
      <input type="text" pInputText [(ngModel)]="value" />
    </div>
    <div class="chat-sender__message-icon">
      <span class="pi pi-send" style="color: white; cursor: pointer"></span>
    </div>
  </div>
</div>

@if(showOptionsMenu()) {
<div class="options-menu" [class.is-open]="showOptionsMenu()">
  <ul>
    @for(option of optionsMenuItems; track option.icon) {
    <li class="options-menu__item" (click)="closeOptions()">
      <div style="display: flex; gap: 10px">
        <span class="{{ option.icon }}"></span>{{ option.label }}
      </div>
    </li>
    }
  </ul>
</div>

}
